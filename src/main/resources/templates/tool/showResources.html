<!doctype html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org">
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
</head>
<body>
    <div th:switch="${type}" style="width: 100%">
        <img th:case="image" th:src="${src}" alt="" style="width: 100%">
        <h1 th:case="msg" th:text="${msg}"></h1>
        <div th:case="video" th:width="${width}" th:height="${height}">
            <video id="video" width="100%" height="100%" controls th:src="${src}" type="video/mp4"></video>
            <p>选择播放速率：
                <select id="selRate" class="">
                    <option value="0.5">0.5</option>
                    <option value="1" selected>1.0</option>
                    <option value="1.25">1.25</option>
                    <option value="1.5">1.5</option>
                    <option value="2">2.0</option>
                </select>
            <button id="btnPlay" class="layui-btn layui-btn-normal layui-btn-xs">视频播放</button>
            </p>
        </div>
        <a th:case="*" th:href="${src}">该文件无法在线查看，请点击此链接下载查看</a>
    </div>
    <script>
        var eleSelect = document.getElementById('selRate');
        var eleButton = document.getElementById('btnPlay');
        // 视频元素
        var video = document.getElementById('video');
        // 改变播放速率
        eleSelect.addEventListener('change', function () {
            video.playbackRate = this.value;
        });
        // 点击播放按钮
        eleButton.addEventListener('click', function () {
            video.play();
        });
    </script>
</body>
</html>